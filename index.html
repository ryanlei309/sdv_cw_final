<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SDV coursework - Yuan-Chun Lei</title>
    <script src="https://cdn.jsdelivr.net/npm/d3@5"></script>
    <script src="scripts/plot3.js" type="module"></script>
    <style>
        .main {
            display: flex;
            flex-flow: column;
            align-items: center;
        }

        p {
            font-family: -apple-system, 'Times New Roman';
            width: 70ch;
        }

        path { 
            stroke-width: 2;
            fill: none;
        }

        /* .axis path,
        .axis line {
            fill: none;
            stroke: lightgray;
            stroke-width: 1;
            shape-rendering: crispEdges;
        } */

        .rectangle:hover{
            opacity: 0.5;
        }

        .lines:hover{
            opacity: 0.5;
        }

    </style>
</head>
<div class="main">
    <p><strong>Hello my friend! This is the third part of the coursework. This website will talk about the details of visulization implementation.</strong></p>
    <p><strong>All the data is preprocessed by python.</strong> The following link is the data preprocess python file: <a href = "https://github.com/ryanlei309/sdv_cw_final/blob/main/SDV_data_preprocessing.ipynb"><code>data_preprocess.ipynb</code></a></p>
    <p><strong>Data source:</strong> <a href="https://nextstrain.org/ncov/open/global"><code>Nextstrain</code></a></p>
    
    <svg id = "bar-chart"></svg>
    <p>This part is included in the PDF.</p>
    <p>
        <strong>For implementation details of the third research question,</strong> a horizontal bar chart is created to show the life duration of 
        each virus mutation. <strong>How the data is processed:</strong> The data is preprocessed by using python. Firstly, this project sorts the data by date from the oldest to the latest then 
        loop over the data by each clade membership. Next, this project extracts the first date and the last date that the virus mutation is being 
        collected and calculates the date difference as virus duration days. Afterward, save the virus clade and duration days into each list respectively 
        and combine the "clade" list and "duration days" list as a data frame then export as a CSV file. 
    </p>

    <p>
        After exporting the CSV file from python, this project did the same process as research question two, create a data promise object and use two arrays 
        to contain the duration days of each virus clade and the unique virus clade. This project changes the data type of duration days from string to integer.
        The x-axis of this bar chart is time and the time unit is days. The y-axis of this bar plot is each virus mutation clade. The longer the bar is, 
        the longer the life duration of the virus is. And the color scale of this bar chart is by each virus clade. 
        There are two interaction of this bar chart. The first one is a transition, there is a little delay for showing the bar chart. The second interaction 
        is when user's mouse move to the bar, the bar will be highlighted.

    </p>

</div>
    



</html>